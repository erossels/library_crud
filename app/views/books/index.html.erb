<p id="notice"><%= notice %></p>

<div class="row">
    <h1 class='mx-auto'>Libros</h1>
</div>

<div class='row offset-md-2'>
    <%= search_form_for @q do |f| %>
    
        <%= f.label :status_eq, 'Estado' %>
        <%= f.select :status_eq, options_for_select(Book.statuses, @q.status_eq), {}, {class: 'form-control'} %>
        <%= f.submit %>

    <% end %>
</div>



<div class='row'>
    <div class='col-md-8 offset-md-2 mx-auto'> 
        <table class='table'>
        <thead>
            <tr>
                <th><%= sort_link(@q, :title,'Título') %></th>
                <th>Autor</th>
                <th>Género</th>
                <th>Status</th>
                <th>Prestado_a</th>
                <th>Prestado</th>
                <th>Devuelto</th>
                <th colspan='3'></th>
            </tr>
        </thead>
        <tbody>
            <% @books.each do |book|  %>
                <tr>
                    <td><%= book.title %></td>
                    <td><%= book.author %></td>
                    <td><%= book.genre %></td>
                    <td><%= book.status %></td>
                    <td><%= book.lent_to %></td>
                    <td><%= book.borrowed %></td>
                    <td><%= book.returned %></td>
                    <td><%= link_to 'Ver', book_path(book) %></td>
                    <td><%= link_to 'Editar', edit_book_path(book) %></td>
                    <td><%= link_to 'Eliminar', book, method: :delete, data: { confirm: 
                    '¿Estás seguro?' } %></td>
                </tr>
            <% end %>
        </tbody>
        </table>
    </div>
</div>

<div class='row'>
    <div class='col-md-8 offset-md-2'>
        <%= link_to 'Nuevo libro', new_book_path %>
    </div>
</div>